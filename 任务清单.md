# 地脉归途 - 每日任务清单

## Day 1 - 项目基础架构 & 用户系统UI

### 上午
- [ ] 创建项目目录结构
  - [ ] Models/
  - [ ] Views/
  - [ ] Services/
  - [ ] Managers/
  - [ ] Extensions/
  - [ ] Resources/

- [ ] 创建设计系统
  - [ ] Theme.swift (主题色、字体)
  - [ ] Colors: 主色#2D5A4E, 辅色#F5F0E6, 强调#D4A574, 星辰#A8C8E8

### 下午
- [ ] Tab导航架构
  - [ ] MainTabView.swift
  - [ ] 心灵地图Tab (MapView)
  - [ ] 圣迹Tab (SacredSitesView)
  - [ ] 引路Tab (GuidesView)
  - [ ] 我的Tab (ProfileView)

- [ ] 登录页面UI
  - [ ] LoginView.swift
  - [ ] Apple ID登录按钮
  - [ ] 欢迎文案

### 晚上
- [ ] Supabase配置
  - [ ] 创建Supabase项目
  - [ ] 配置数据库表
  - [ ] 添加环境变量

**验收**: Tab可切换，登录页显示正常

---

## Day 2 - 用户系统 & 数据层

### 上午
- [ ] Apple ID登录实现
  - [ ] 配置Sign in with Apple能力
  - [ ] AuthenticationServices集成
  - [ ] 处理登录回调

- [ ] Supabase Auth对接
  - [ ] SupabaseManager.swift
  - [ ] JWT Token管理
  - [ ] 会话持久化

### 下午
- [ ] 用户数据模型
  - [ ] User.swift
  - [ ] UserProfile.swift
  - [ ] AuthState.swift

- [ ] SwiftData配置
  - [ ] 本地数据模型定义
  - [ ] ModelContainer配置

### 晚上
- [ ] 个人中心页面
  - [ ] ProfileView完善
  - [ ] 设置列表
  - [ ] 退出登录功能

**验收**: Apple ID可登录，用户信息正确保存

---

## Day 3 - GPS轨迹记录

### 上午
- [ ] CoreLocation配置
  - [ ] Info.plist权限配置
  - [ ] NSLocationAlwaysAndWhenInUseUsageDescription
  - [ ] UIBackgroundModes: location

- [ ] LocationManager封装
  - [ ] LocationManager.swift
  - [ ] 请求权限流程
  - [ ] 后台定位配置

### 下午
- [ ] 轨迹记录核心
  - [ ] 开始/结束记录
  - [ ] 智能采样算法
  - [ ] 根据速度调整频率

- [ ] 出行方式识别
  - [ ] TravelMode枚举
  - [ ] 速度区间判断逻辑

### 晚上
- [ ] Track数据模型
  - [ ] Track.swift
  - [ ] TrackPoint.swift
  - [ ] 本地存储

- [ ] 记录控制UI
  - [ ] 开始/结束按钮
  - [ ] 实时状态显示

**验收**: 后台可记录轨迹，出行方式自动识别

---

## Day 4 - 能量线渲染

### 上午
- [ ] MapKit集成
  - [ ] 基础地图显示
  - [ ] 定位当前位置
  - [ ] 地图样式配置

- [ ] 自定义Polyline渲染
  - [ ] EnergyLineRenderer.swift
  - [ ] MKPolylineRenderer子类

### 下午
- [ ] 出行方式样式
  - [ ] 步行: 琥珀色#D4A574，脉冲效果
  - [ ] 骑行: 青色#4ECDC4，流光效果
  - [ ] 驾车: 银白色#E8E8E8，光带效果
  - [ ] 飞行: 紫色#9B7EDE，以太弧光

### 晚上
- [ ] 动画效果
  - [ ] 呼吸感脉动
  - [ ] 渐变过渡

- [ ] 地图交互
  - [ ] 平移/缩放
  - [ ] 定位按钮

**验收**: 地图显示艺术化能量线

---

## Day 5 - 心绪节点系统

### 上午
- [ ] Node数据模型
  - [ ] MoodNode.swift
  - [ ] MoodType枚举 (平静/愉悦/焦虑/释然/灵感/怀旧/感恩)
  - [ ] 关联轨迹位置

- [ ] 情绪标签选择器
  - [ ] MoodSelectorView.swift
  - [ ] 图标+色彩组合

### 下午
- [ ] 节点创建流程
  - [ ] NodeCreatorSheet.swift
  - [ ] 点击轨迹触发
  - [ ] 选择情绪→添加内容

- [ ] 内容记录
  - [ ] 文字输入 (500字限制)
  - [ ] 照片选择 (相机/相册)

### 晚上
- [ ] 节点地图标记
  - [ ] 自定义AnnotationView
  - [ ] 点击查看详情
  - [ ] NodeDetailView.swift

**验收**: 可添加/查看心绪节点

---

## Day 6 - 圣迹系统

### 上午
- [ ] 圣迹数据模型
  - [ ] SacredSite.swift
  - [ ] SiteTier枚举 (源点圣迹/地脉节点/心绪锚点)

- [ ] 预置圣迹数据
  - [ ] 导入JSON数据
  - [ ] 10-20个示例圣迹

### 下午
- [ ] 星脉图视图
  - [ ] StarMapView.swift
  - [ ] 艺术化背景
  - [ ] 星辰标记动画

- [ ] 圣迹列表页
  - [ ] SacredSiteListView.swift
  - [ ] 按大洲分类
  - [ ] 搜索功能

### 晚上
- [ ] 圣迹详情页
  - [ ] SacredSiteDetailView.swift
  - [ ] 沉浸式头图
  - [ ] 地脉解读
  - [ ] 历史传说

**验收**: 可浏览圣迹列表和详情

---

## Day 7 - 回响系统 & 意向系统

### 上午
- [ ] Echo数据模型
  - [ ] Echo.swift
  - [ ] 关联圣迹

- [ ] 回响发布UI
  - [ ] EchoComposerView.swift
  - [ ] 文字输入
  - [ ] 图片选择
  - [ ] 隐私设置 (仅自己/众生可见)

### 下午
- [ ] 回响列表展示
  - [ ] EchoListView.swift
  - [ ] 时间线布局
  - [ ] 零回响状态

- [ ] Intention数据模型
  - [ ] Intention.swift

### 晚上
- [ ] "我亦向往"功能
  - [ ] IntentionButton.swift
  - [ ] 月份选择器
  - [ ] 确认动画

- [ ] 意向统计展示
  - [ ] "已有X位行者向往…"

**验收**: 可发布回响，可标记意向

---

## Day 8 - 引路系统 & 数据同步

### 上午
- [ ] Guide数据模型
  - [ ] Guide.swift (先行者)
  - [ ] Constellation.swift (星图)

- [ ] 预置先行者数据
  - [ ] 2-3个示例先行者
  - [ ] 头像/简介/星图

### 下午
- [ ] 先行者列表页
  - [ ] GuideListView.swift
  - [ ] 卡片布局

- [ ] 星图展示
  - [ ] ConstellationView.swift
  - [ ] 行走系列预览

### 晚上
- [ ] Supabase数据同步
  - [ ] SyncManager.swift
  - [ ] 轨迹上传
  - [ ] 节点同步
  - [ ] 回响同步

- [ ] 离线缓存策略
  - [ ] 本地优先
  - [ ] 网络恢复时同步

**验收**: 先行者可浏览，数据可云同步

---

## Day 9 - UI美化 & 动效

### 上午
- [ ] 视觉优化
  - [ ] 全局色彩调整
  - [ ] 字体统一
  - [ ] 间距规范

- [ ] 图标资源
  - [ ] App图标 (1024x1024)
  - [ ] Tab图标
  - [ ] 功能图标

### 下午
- [ ] 动画效果
  - [ ] 页面转场动画
  - [ ] 按钮点击反馈
  - [ ] 节点添加动画
  - [ ] 列表加载动画

- [ ] 触觉反馈
  - [ ] UIImpactFeedbackGenerator

### 晚上
- [ ] 启动页
  - [ ] LaunchScreen.storyboard
  - [ ] 品牌Logo

- [ ] 引导页
  - [ ] OnboardingView.swift
  - [ ] 3-4页介绍

**验收**: 视觉体验完善流畅

---

## Day 10 - 测试修复 & 上架准备

### 上午
- [ ] 功能测试
  - [ ] 用户登录流程
  - [ ] GPS记录全流程
  - [ ] 圣迹浏览
  - [ ] 回响/意向
  - [ ] 边界情况测试

- [ ] Bug修复
  - [ ] 记录问题清单
  - [ ] 逐一修复

### 下午
- [ ] 性能优化
  - [ ] 地图渲染检查
  - [ ] 内存占用检查
  - [ ] 电池消耗测试

- [ ] App Store资源
  - [ ] 6张截图 (6.5"/5.5")
  - [ ] App预览视频 (可选)

### 晚上
- [ ] 文案准备
  - [ ] App名称确认
  - [ ] 副标题
  - [ ] 描述文案
  - [ ] 关键词
  - [ ] 隐私政策URL

- [ ] Archive打包
  - [ ] 版本号设置 (1.0.0)
  - [ ] Build号
  - [ ] 最终构建

**验收**: 可提交审核的完整App包

---

## Day 11-12 - App Store审核

### Day 11
- [ ] 提交App Store Connect
  - [ ] 上传构建
  - [ ] 填写元数据
  - [ ] 提交审核

- [ ] 准备审核回复
  - [ ] 预设常见问题答复
  - [ ] 准备演示账号

### Day 12
- [ ] 跟踪审核状态
- [ ] 处理审核反馈
- [ ] 紧急修复 (如需要)
- [ ] 准备发布
  - [ ] 设置价格
  - [ ] 选择地区
  - [ ] 设置发布时间

---

## 完成标志

- [ ] App Store审核通过
- [ ] 1.0版本正式上线
- [ ] 用户可下载使用

---

**总任务数**: 约120项
**关键路径**: 用户系统 → GPS记录 → 能量线渲染 → 圣迹系统 → 提交审核
